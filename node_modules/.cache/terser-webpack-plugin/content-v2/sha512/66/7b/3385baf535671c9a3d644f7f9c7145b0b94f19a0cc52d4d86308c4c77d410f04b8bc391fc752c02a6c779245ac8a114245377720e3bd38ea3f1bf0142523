{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{394:function(t,s,e){\"use strict\";e.r(s);var n=e(42),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"ol\",[e(\"li\",[t._v(\"Put this file in \"),e(\"code\",[t._v(\"/etc/systemd/system/secret-lcd.service\")])]),t._v(\" \"),e(\"li\",[t._v(\"Make sure \"),e(\"code\",[t._v(\"/usr/local/bin/secretcli\")]),t._v(\" is the right path for secretcli\")]),t._v(\" \"),e(\"li\",[t._v(\"Make sure ports 80 and 443 are open\")]),t._v(\" \"),e(\"li\",[t._v(\"Make sure \"),e(\"code\",[t._v(\"--chain-id\")]),t._v(\" is the right chain ID\")]),t._v(\" \"),e(\"li\",[t._v(\"Make sure \"),e(\"code\",[t._v(\"ubuntu\")]),t._v(\" is the right user\")])]),t._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[t._v(\"[Unit]\\nDescription=Secret LCD server\\nAfter=network.target\\n\\n[Service]\\nType=simple\\nExecStart=/usr/local/bin/secretcli rest-server --trust-node=true --chain-id secret-2 --laddr tcp://127.0.0.1:1337\\nUser=ubuntu\\nRestart=always\\nStartLimitInterval=0\\nRestartSec=3\\nLimitNOFILE=65535\\n\\n[Install]\\nWantedBy=multi-user.target\\n\")])])]),e(\"p\",[t._v(\"Enable on startup and start:\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-bash extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl \"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[t._v(\"enable\")]),t._v(\" secret-lcd\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl start  secret-lcd\\n\")])])]),e(\"p\",[t._v(\"Then, install caddy: https://caddyserver.com/docs/download#debian-ubuntu-raspbian\"),e(\"br\"),t._v(\"\\nEdit \"),e(\"code\",[t._v(\"/etc/caddy/Caddyfile\")]),t._v(\" to have this as the whole content (Replace \"),e(\"code\",[t._v(\"bootstrap.int.testnet.enigma.co\")]),t._v(\" with your domain name):\")]),t._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[t._v(\"bootstrap.int.testnet.enigma.co\\n\\nheader {\\n        Access-Control-Allow-Origin  *\\n        Access-Control-Allow-Methods *\\n        Access-Control-Allow-Headers *\\n}\\n\\n@corspreflight {\\n\\tmethod OPTIONS\\n\\tpath   *\\n}\\n\\nrespond @corspreflight 204\\n\\nreverse_proxy 127.0.0.1:1337\\n\")])])]),e(\"p\",[t._v(\"And then:\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-bash extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl \"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[t._v(\"enable\")]),t._v(\"  caddy.service\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl restart caddy.service\\n\")])])]),e(\"h2\",{attrs:{id:\"scripted\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#scripted\"}},[t._v(\"#\")]),t._v(\" Scripted\")]),t._v(\" \"),e(\"p\",[t._v(\"First Set \"),e(\"code\",[t._v('DOMAIN_NAME=\"$DOMAIN_NAME_OF_THIS_MACHINE\"')]),t._v(\".\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-bash extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[t._v(\"echo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"\\nDescription=Secret LCD server\\nAfter=network.target\\n\\n[Service]\\nType=simple\\nExecStart='),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$(\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"which\")]),t._v(\" secretcli\"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\")\")])]),t._v(\" rest-server --trust-node=true --chain-id secret-2 --laddr tcp://127.0.0.1:1337\\nUser=\"),e(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[t._v(\"$USER\")]),t._v('\\nRestart=always\\nStartLimitInterval=0\\nRestartSec=3\\nLimitNOFILE=65535\\n\\n[Install]\\nWantedBy=multi-user.target\\n\"')]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"|\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"tee\")]),t._v(\" /etc/systemd/system/secret-lcd.service\\n\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl \"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[t._v(\"enable\")]),t._v(\" secret-lcd\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl start  secret-lcd\\n\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[t._v(\"echo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"deb [trusted=yes] https://apt.fury.io/caddy/ /\"')]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"|\")]),t._v(\"\\n        \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"tee\")]),t._v(\" -a /etc/apt/sources.list.d/caddy-fury.list \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\"\\n        \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"apt-get\")]),t._v(\" update \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\"\\n        \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"apt-get\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" -y caddy\\n\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[t._v(\"echo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"\\n'),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$DOMAIN_NAME\")]),t._v('\\n\\nheader {\\n        Access-Control-Allow-Origin  *\\n        Access-Control-Allow-Methods *\\n        Access-Control-Allow-Headers *\\n}\\n\\n@corspreflight {\\n\\tmethod OPTIONS\\n\\tpath   *\\n}\\n\\nrespond @corspreflight 204\\n\\nreverse_proxy 127.0.0.1:1337\\n\"')]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"|\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"tee\")]),t._v(\" /etc/caddy/Caddyfile\\n\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl \"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[t._v(\"enable\")]),t._v(\"  caddy.service\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl restart caddy.service\\n\")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);","extractedComments":[]}