<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Secret Network Light Client</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.1fbdf1a8.css" as="style"><link rel="preload" href="/assets/js/app.368a618c.js" as="script"><link rel="preload" href="/assets/js/2.9865b56c.js" as="script"><link rel="preload" href="/assets/js/85.1b7789c6.js" as="script"><link rel="prefetch" href="/assets/js/10.3aea5455.js"><link rel="prefetch" href="/assets/js/11.2822ea64.js"><link rel="prefetch" href="/assets/js/12.65bf0c1d.js"><link rel="prefetch" href="/assets/js/13.d1066a1e.js"><link rel="prefetch" href="/assets/js/14.0b9eb2b2.js"><link rel="prefetch" href="/assets/js/15.b2efccab.js"><link rel="prefetch" href="/assets/js/16.66c9f6c5.js"><link rel="prefetch" href="/assets/js/17.fbf8928e.js"><link rel="prefetch" href="/assets/js/18.45dc0496.js"><link rel="prefetch" href="/assets/js/19.b85fb333.js"><link rel="prefetch" href="/assets/js/20.5446fbc2.js"><link rel="prefetch" href="/assets/js/21.2c41cf8d.js"><link rel="prefetch" href="/assets/js/22.c981324b.js"><link rel="prefetch" href="/assets/js/23.831e29c2.js"><link rel="prefetch" href="/assets/js/24.025efe88.js"><link rel="prefetch" href="/assets/js/25.dad4cc47.js"><link rel="prefetch" href="/assets/js/26.4113f459.js"><link rel="prefetch" href="/assets/js/27.e9ef666f.js"><link rel="prefetch" href="/assets/js/28.8d35786b.js"><link rel="prefetch" href="/assets/js/29.ed008a30.js"><link rel="prefetch" href="/assets/js/3.6e48e99b.js"><link rel="prefetch" href="/assets/js/30.3d5f6431.js"><link rel="prefetch" href="/assets/js/31.d37d7059.js"><link rel="prefetch" href="/assets/js/32.26db99ea.js"><link rel="prefetch" href="/assets/js/33.6f451fda.js"><link rel="prefetch" href="/assets/js/34.c61840b6.js"><link rel="prefetch" href="/assets/js/35.0b0b2a65.js"><link rel="prefetch" href="/assets/js/36.3e33e871.js"><link rel="prefetch" href="/assets/js/37.68ff07f2.js"><link rel="prefetch" href="/assets/js/38.f5fd2d60.js"><link rel="prefetch" href="/assets/js/39.2aa4c5de.js"><link rel="prefetch" href="/assets/js/4.8825709b.js"><link rel="prefetch" href="/assets/js/40.735d1201.js"><link rel="prefetch" href="/assets/js/41.316ad2f5.js"><link rel="prefetch" href="/assets/js/42.97ba8168.js"><link rel="prefetch" href="/assets/js/43.cf3d0784.js"><link rel="prefetch" href="/assets/js/44.982887eb.js"><link rel="prefetch" href="/assets/js/45.2585af80.js"><link rel="prefetch" href="/assets/js/46.dd0f01fe.js"><link rel="prefetch" href="/assets/js/47.ce523662.js"><link rel="prefetch" href="/assets/js/48.03991a46.js"><link rel="prefetch" href="/assets/js/49.e717e995.js"><link rel="prefetch" href="/assets/js/5.c2232815.js"><link rel="prefetch" href="/assets/js/50.392a7165.js"><link rel="prefetch" href="/assets/js/51.db64bb96.js"><link rel="prefetch" href="/assets/js/52.1280a756.js"><link rel="prefetch" href="/assets/js/53.735f471f.js"><link rel="prefetch" href="/assets/js/54.69d97fc6.js"><link rel="prefetch" href="/assets/js/55.a1c18e81.js"><link rel="prefetch" href="/assets/js/56.a8deed1a.js"><link rel="prefetch" href="/assets/js/57.3b86dcef.js"><link rel="prefetch" href="/assets/js/58.2913b075.js"><link rel="prefetch" href="/assets/js/59.6ce31797.js"><link rel="prefetch" href="/assets/js/6.40f24f85.js"><link rel="prefetch" href="/assets/js/60.bd430ea0.js"><link rel="prefetch" href="/assets/js/61.b55b53cd.js"><link rel="prefetch" href="/assets/js/62.77ffd21b.js"><link rel="prefetch" href="/assets/js/63.fa587683.js"><link rel="prefetch" href="/assets/js/64.366b7771.js"><link rel="prefetch" href="/assets/js/65.e5dd6793.js"><link rel="prefetch" href="/assets/js/66.5c5e7f92.js"><link rel="prefetch" href="/assets/js/67.3bdba1ce.js"><link rel="prefetch" href="/assets/js/68.298d1f3e.js"><link rel="prefetch" href="/assets/js/69.08559541.js"><link rel="prefetch" href="/assets/js/7.49199302.js"><link rel="prefetch" href="/assets/js/70.2603c4a4.js"><link rel="prefetch" href="/assets/js/71.dd6a8160.js"><link rel="prefetch" href="/assets/js/72.0d97b9ee.js"><link rel="prefetch" href="/assets/js/73.aefdd0e9.js"><link rel="prefetch" href="/assets/js/74.73ff8ff9.js"><link rel="prefetch" href="/assets/js/75.04c062f4.js"><link rel="prefetch" href="/assets/js/76.e94b0ecc.js"><link rel="prefetch" href="/assets/js/77.ed7afbb7.js"><link rel="prefetch" href="/assets/js/78.9fe2b885.js"><link rel="prefetch" href="/assets/js/79.9ceb8bfc.js"><link rel="prefetch" href="/assets/js/8.a8efa35d.js"><link rel="prefetch" href="/assets/js/80.defd37e0.js"><link rel="prefetch" href="/assets/js/81.ffce598d.js"><link rel="prefetch" href="/assets/js/82.29d8cab7.js"><link rel="prefetch" href="/assets/js/83.f1632309.js"><link rel="prefetch" href="/assets/js/84.8a5a3473.js"><link rel="prefetch" href="/assets/js/86.a93b488d.js"><link rel="prefetch" href="/assets/js/87.4550bce0.js"><link rel="prefetch" href="/assets/js/88.3bab9ce8.js"><link rel="prefetch" href="/assets/js/89.3a7e9f0a.js"><link rel="prefetch" href="/assets/js/9.34ad9346.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1fbdf1a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="secret-network-light-client"><a href="#secret-network-light-client" class="header-anchor">#</a> Secret Network Light Client</h1> <h2 id="secret-cli"><a href="#secret-cli" class="header-anchor">#</a> Secret CLI</h2> <p><code>secretcli</code> is the command-line interface tool that enables you to interact with a node that runs on the Secret Network.</p> <p><a href="/light-client-mainnet.html">How to install and use <code>secretcli</code></a>.</p> <ul><li><a href="#secret-network-light-client">Secret Network Light Client</a> <ul><li><a href="#secret-cli">Secret CLI</a> <ul><li><a href="#keys">Keys</a> <ul><li><a href="#key-types">Key Types</a></li> <li><a href="#generate-keys">Generate Keys</a></li> <li><a href="#generate-multisig-public-keys">Generate Multisig Public Keys</a></li></ul></li> <li><a href="#tx-broadcasting">Tx Broadcasting</a></li> <li><a href="#fees--gas">Fees &amp; Gas</a></li> <li><a href="#account">Account</a> <ul><li><a href="#get-tokens">Get Tokens</a></li> <li><a href="#query-account-balance">Query Account Balance</a></li></ul></li> <li><a href="#send-tokens">Send Tokens</a></li> <li><a href="#query-transactions">Query Transactions</a> <ul><li><a href="#matching-a-set-of-events">Matching a Set of Events</a></li> <li><a href="#matching-a-transactions-hash">Matching a Transaction's Hash</a></li></ul></li> <li><a href="#secret-contracts">Secret Contracts</a> <ul><li><a href="#uploading-a-secret-contract">Uploading a Secret Contract</a></li> <li><a href="#deploying-a-secret-contract">Deploying a Secret Contract</a></li> <li><a href="#executing-a-secret-contract">Executing a Secret Contract</a></li> <li><a href="#reading-the-output-of-a-secret-contract-tx">Reading the output of a Secret Contract tx</a></li> <li><a href="#querying-a-secret-contract">Querying a Secret Contract</a></li></ul></li> <li><a href="#slashing">Slashing</a></li> <li><a href="#minting">Minting</a></li> <li><a href="#staking">Staking</a></li> <li><a href="#nodes">Nodes</a></li> <li><a href="#governance">Governance</a></li> <li><a href="#fee-distribution">Fee Distribution</a> <ul><li><a href="#query-distribution-parameters">Query Distribution Parameters</a></li> <li><a href="#query-distribution-community-pool">Query distribution Community Pool</a></li> <li><a href="#query-outstanding-validator-rewards">Query Outstanding Validator rewards</a></li> <li><a href="#query-validator-commission">Query Validator Commission</a></li> <li><a href="#query-validator-slashes">Query Validator Slashes</a></li> <li><a href="#query-delegator-rewards">Query Delegator Rewards</a></li> <li><a href="#query-all-delegator-rewards">Query All Delegator Rewards</a></li></ul></li> <li><a href="#multisig-transactions">Multisig Transactions</a></li></ul></li> <li><a href="#shells-completion-scripts">Shells Completion Scripts</a></li></ul></li></ul> <h3 id="keys"><a href="#keys" class="header-anchor">#</a> Keys</h3> <h4 id="key-types"><a href="#key-types" class="header-anchor">#</a> Key Types</h4> <p>There are four types of key representations that are used:</p> <ul><li><code>secret</code> <ul><li>Derived from account keys generated by <code>secretcli keys add</code></li> <li>Used to receive funds</li> <li>e.g. <code>secret15h6vd5f0wqps26zjlwrc6chah08ryu4hzzdwhc</code></li></ul></li></ul> <ul><li><code>secretvaloper</code> <ul><li>Used to associate a validator to it's operator</li> <li>Used to invoke staking commands</li> <li>e.g. <code>secretvaloper1carzvgq3e6y3z5kz5y6gxp3wpy3qdrv928vyah</code></li></ul></li></ul> <ul><li><p><code>secretpub</code></p> <ul><li>Derived from account keys generated by <code>secretcli keys add</code></li> <li>e.g. <code>secretpub1zcjduc3q7fu03jnlu2xpl75s2nkt7krm6grh4cc5aqth73v0zwmea25wj2hsqhlqzm</code></li></ul></li> <li><p><code>secretvalconspub</code></p> <ul><li>Generated when the node is created with <code>secretd init</code>.</li> <li>Get this value with <code>secretd tendermint show-validator</code></li> <li>e.g. <code>secretvalconspub1zcjduepq0ms2738680y72v44tfyqm3c9ppduku8fs6sr73fx7m666sjztznqzp2emf</code></li></ul></li></ul> <h4 id="generate-keys"><a href="#generate-keys" class="header-anchor">#</a> Generate Keys</h4> <p>You'll need an account private and public key pair (a.k.a. <code>sk, pk</code> respectively) to be able to receive funds, send txs, bond tx, etc.</p> <p>To generate a new <em>secp256k1</em> key:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys <span class="token function">add</span> <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span>
</code></pre></div><p>The output of the above command will contain a <em>seed phrase</em>. It is recommended to save the <em>seed phrase</em> in a safe place so that in case you forget the password of the operating system's credentials store, you could eventually regenerate the key from the seed phrase with the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys <span class="token function">add</span> --recover <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span>
</code></pre></div><p>You can also backup your key using <code>export</code>, which outputs to <em>stderr</em>:</p> <p><em>(copy and paste to a <code>&lt;key-export-file&gt;</code>)</em></p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys <span class="token builtin class-name">export</span> <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span>
</code></pre></div><p>and import it with:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys <span class="token function">import</span> <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>key-export-file<span class="token operator">&gt;</span>
</code></pre></div><p>If you check your private keys, you'll now see <code>&lt;key-alias&gt;</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys show <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span>
</code></pre></div><p>If you want to just see your secret address:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys show <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span> -a
</code></pre></div><p>View the validator operator's address via:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys show <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span> --bech<span class="token operator">=</span>val
</code></pre></div><p>You can see all your available keys by typing:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys list
</code></pre></div><p>View the validator pubkey for your node by typing:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretd tendermint show-validator
</code></pre></div><p>Note that this is the Tendermint signing key, <em>not</em> the operator key you will use in delegation transactions.</p> <div class="custom-block danger"><p class="custom-block-title">Warning</p> <p>We strongly recommend <em>NOT</em> using the same passphrase for multiple keys. The Tendermint team and the Interchain Foundation will not be responsible for the loss of funds.</p></div> <h4 id="generate-multisig-public-keys"><a href="#generate-multisig-public-keys" class="header-anchor">#</a> Generate Multisig Public Keys</h4> <p>You can generate and print a multisig public key by typing:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys <span class="token function">add</span> --multisig<span class="token operator">=</span>name1,name2,name3<span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> --multisig-threshold<span class="token operator">=</span>K <span class="token operator">&lt;</span>new-key-alias<span class="token operator">&gt;</span>
</code></pre></div><p><code>K</code> is the minimum number of private keys that must have signed the
transactions that carry the public key's address as signer.</p> <p>The <code>--multisig</code> flag must contain the name of public keys that will be combined into a
public key that will be generated and stored as <code>new-key-alias</code> in the local database.
All names supplied through <code>--multisig</code> must already exist in the local database. Unless
the flag <code>--nosort</code> is set, the order in which the keys are supplied on the command line
does not matter, i.e. the following commands generate two identical keys:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys <span class="token function">add</span> --multisig<span class="token operator">=</span>foo,bar,baz --multisig-threshold<span class="token operator">=</span><span class="token number">2</span> <span class="token operator">&lt;</span>multisig-address<span class="token operator">&gt;</span>
secretcli keys <span class="token function">add</span> --multisig<span class="token operator">=</span>baz,foo,bar --multisig-threshold<span class="token operator">=</span><span class="token number">2</span> <span class="token operator">&lt;</span>multisig-address<span class="token operator">&gt;</span>
</code></pre></div><p>Multisig addresses can also be generated on-the-fly and printed through the which command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys show --multisig-threshold K name1 name2 name3 <span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre></div><p>For more information regarding how to generate, sign and broadcast transactions with a multi-signature account see <a href="#multisig-transactions">Multisig Transactions</a>.</p> <h3 id="tx-broadcasting"><a href="#tx-broadcasting" class="header-anchor">#</a> Tx Broadcasting</h3> <p>When broadcasting transactions, <code>secretcli</code> accepts a <code>--broadcast-mode</code> flag. This
flag can have a value of <code>sync</code> (default), <code>async</code>, or <code>block</code>, where <code>sync</code> makes
the client return a CheckTx response, <code>async</code> makes the client return immediately,
and <code>block</code> makes the client wait for the tx to be committed (or timing out).</p> <p>It is important to note that the <code>block</code> mode should <strong>not</strong> be used in most
circumstances. This is because broadcasting can timeout but the tx may still be
included in a block. This can result in many undesirable situations. Therefore, it
is best to use <code>sync</code> or <code>async</code> and query by tx hash to determine when the tx
is included in a block.</p> <h3 id="fees-gas"><a href="#fees-gas" class="header-anchor">#</a> Fees &amp; Gas</h3> <p>Each transaction may either supply fees or gas prices, but not both.</p> <p>Validator's have a minimum gas price (multi-denom) configuration and they use
this value when when determining if they should include the transaction in a block during <code>CheckTx</code>, where <code>gasPrices &gt;= minGasPrices</code>. Note, your transaction must supply fees that are greater than or equal to <strong>any</strong> of the denominations the validator requires.</p> <p><strong>Note</strong>: With such a mechanism in place, validators may start to prioritize
txs by <code>gasPrice</code> in the mempool, so providing higher fees or gas prices may yield higher tx priority.</p> <p>e.g.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx send <span class="token punctuation">..</span>. --fees<span class="token operator">=</span>50000uscrt
</code></pre></div><p>or</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx send <span class="token punctuation">..</span>. --gas-prices<span class="token operator">=</span><span class="token number">0</span>.025uscrt
</code></pre></div><h3 id="account"><a href="#account" class="header-anchor">#</a> Account</h3> <h4 id="get-tokens"><a href="#get-tokens" class="header-anchor">#</a> Get Tokens</h4> <p>On a testnet, getting tokens is usually done via a faucet.</p> <h4 id="query-account-balance"><a href="#query-account-balance" class="header-anchor">#</a> Query Account Balance</h4> <p>After receiving tokens to your address, you can view your account's balance by typing:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q account <span class="token operator">&lt;</span>secret-address<span class="token operator">&gt;</span>
</code></pre></div><p>Get your <code>&lt;secret-address&gt;</code> using:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys show -a <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span>
</code></pre></div><p>(the <em>-a</em> flag is used to display the address only)</p> <p>Optionally, you can supply your address within the command as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q account <span class="token variable"><span class="token variable">$(</span>secretcli keys show -a <span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span><span class="token variable">)</span></span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Note</p> <p>When you query an account balance with zero tokens, you will get this error: <code>No account with address &lt;secret-address&gt; was found in the state.</code> This can also happen if you fund the account before your node has fully synced with the chain. These are both normal.</p> <h3 id="send-tokens"><a href="#send-tokens" class="header-anchor">#</a> Send Tokens</h3> <p>The following command could be used to send coins from one account to another:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx send <span class="token operator">&lt;</span>sender-key-alias-or-address<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>recipient-address<span class="token operator">&gt;</span> 10uscrt <span class="token punctuation">\</span>
	--memo <span class="token operator">&lt;</span>tx-memo<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
	--chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain-id<span class="token operator">&gt;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Note</p> <p>The <code>amount</code> argument accepts the format <code>&lt;value|coin_name&gt;</code>.</p></div></div> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>You may want to cap the maximum gas that can be consumed by the transaction via the <code>--gas</code> flag.</p> <p>If you pass <code>--gas=auto</code>, the gas supply will be automatically estimated before executing the transaction.</p> <p>Gas estimate might be inaccurate as state changes could occur in between the end of the simulation and the actual execution of a transaction, thus an adjustment is applied on top of the original estimate in order to ensure the transaction is broadcasted successfully. The adjustment can be controlled via the <code>--gas-adjustment</code> flag, whose default value is 1.0.</p></div> <p>Now, view the updated balances of the origin and destination accounts:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q account <span class="token operator">&lt;</span>secret-address<span class="token operator">&gt;</span>
secretcli q account <span class="token operator">&lt;</span>recipient-address<span class="token operator">&gt;</span>
</code></pre></div><p>You can also check your balance at a given block by using the <code>--block</code> flag:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q account <span class="token operator">&lt;</span>secret-address<span class="token operator">&gt;</span> --block<span class="token operator">=</span><span class="token operator">&lt;</span>block_height<span class="token operator">&gt;</span>
</code></pre></div><p>You can simulate a transaction without actually broadcasting it by appending the
<code>--dry-run</code> flag to the command line:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx send <span class="token operator">&lt;</span>sender-key-alias-or-address<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>recipient-address<span class="token operator">&gt;</span> 10uscrt <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain-id<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --dry-run
</code></pre></div><p>Furthermore, you can build a transaction and print its JSON format to STDOUT by
appending <code>--generate-only</code> to the list of the command line arguments:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx send <span class="token operator">&lt;</span>sender-key-alias-or-address<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>recipient-address<span class="token operator">&gt;</span> 10uscrt <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain-id<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --generate-only <span class="token operator">&gt;</span> unsignedSendTx.json
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx sign <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token operator">&lt;</span>chain-id<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --from<span class="token operator">=</span><span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  unsignedSendTx.json <span class="token operator">&gt;</span> signedSendTx.json
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <p>The <code>--generate-only</code> flag prevents <code>secretcli</code> from accessing the local keybase.
Thus when such flag is supplied <code>&lt;sender-key-alias-or-address&gt;</code> must be an address.</p></div> <p>You can validate the transaction's signatures by typing the following:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx sign --validate-signatures --from<span class="token operator">=</span><span class="token operator">&lt;</span>key-alias<span class="token operator">&gt;</span> signedSendTx.json
</code></pre></div><p>You can broadcast the signed transaction to a node by providing the JSON file to the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx broadcast --node<span class="token operator">=</span><span class="token operator">&lt;</span>node<span class="token operator">&gt;</span> signedSendTx.json
</code></pre></div><h3 id="query-transactions"><a href="#query-transactions" class="header-anchor">#</a> Query Transactions</h3> <h4 id="matching-a-set-of-events"><a href="#matching-a-set-of-events" class="header-anchor">#</a> Matching a Set of Events</h4> <p>You can use the transaction search command to query for transactions that match a specific set of <code>events</code>, which are added on every transaction.</p> <p>Each event is composed by a key-value pair in the form of <code>{eventType}.{eventAttribute}={value}</code>.</p> <p>Events can also be combined to query for a more specific result using the <code>&amp;</code> symbol.</p> <p>You can query transactions by <code>events</code> as follows:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q txs --events<span class="token operator">=</span><span class="token string">'message.sender=secret1...'</span>
</code></pre></div><p>And for using multiple <code>events</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q txs --events<span class="token operator">=</span><span class="token string">'message.sender=secret1...&amp;message.action=withdraw_delegator_reward'</span>
</code></pre></div><p>The pagination is supported as well via <code>page</code> and <code>limit</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q txs --events<span class="token operator">=</span><span class="token string">'message.sender=secret1...'</span> --page<span class="token operator">=</span><span class="token number">1</span> --limit<span class="token operator">=</span><span class="token number">20</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <p>The action tag always equals the message type returned by the <code>Type()</code> function of the relevant message.</p> <p>You can find a list of available <code>events</code> on each of the SDK modules:</p> <ul><li><a href="https://github.com/cosmos/cosmos-sdk/blob/master/x/staking/spec/07_events.md" target="_blank" rel="noopener noreferrer">Staking events<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/cosmos/cosmos-sdk/blob/master/x/gov/spec/04_events.md" target="_blank" rel="noopener noreferrer">Governance events<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/cosmos/cosmos-sdk/blob/master/x/slashing/spec/06_events.md" target="_blank" rel="noopener noreferrer">Slashing events<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/cosmos/cosmos-sdk/blob/master/x/distribution/spec/06_events.md" target="_blank" rel="noopener noreferrer">Distribution events<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/cosmos/cosmos-sdk/blob/master/x/bank/spec/04_events.md" target="_blank" rel="noopener noreferrer">Bank events<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <h4 id="matching-a-transaction-s-hash"><a href="#matching-a-transaction-s-hash" class="header-anchor">#</a> Matching a Transaction's Hash</h4> <p>You can also query a single transaction by its hash using the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q tx <span class="token punctuation">[</span>hash<span class="token punctuation">]</span>
</code></pre></div><h3 id="secret-contracts"><a href="#secret-contracts" class="header-anchor">#</a> Secret Contracts</h3> <h4 id="uploading-a-secret-contract"><a href="#uploading-a-secret-contract" class="header-anchor">#</a> Uploading a Secret Contract</h4> <p>To upload a contract:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx compute store ./contract.wasm.gz --from mykey --source <span class="token string">&quot;https://github.com/&lt;username&gt;/&lt;repo&gt;/tarball/&lt;version&gt;&quot;</span> --builder <span class="token string">&quot;enigmampc/secret-contract-optimizer:1.0.2&quot;</span>
</code></pre></div><ul><li><code>--source</code>: Optional tarball of the source code, so that your contract will be <a href="https://github.com/CosmWasm/cosmwasm-verify" target="_blank" rel="noopener noreferrer">verifiable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li><code>--builder</code>: Optional docker image that was used to compile <code>./contract.wasm.gz</code>, so that your contract will be <a href="https://github.com/CosmWasm/cosmwasm-verify" target="_blank" rel="noopener noreferrer">verifiable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ul> <p>To get the contract's code ID:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q tx <span class="token punctuation">[</span>hash<span class="token punctuation">]</span>
</code></pre></div><h4 id="deploying-a-secret-contract"><a href="#deploying-a-secret-contract" class="header-anchor">#</a> Deploying a Secret Contract</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx compute instantiate <span class="token variable">$CODE_ID</span> <span class="token string">&quot;<span class="token variable">$INIT_INPUT_MSG</span>&quot;</span> --from mykey --label <span class="token string">&quot;<span class="token variable">$UNIQUE_LABEL</span>&quot;</span>
</code></pre></div><p>To get the contract's address:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q tx <span class="token punctuation">[</span>hash<span class="token punctuation">]</span>
</code></pre></div><h4 id="executing-a-secret-contract"><a href="#executing-a-secret-contract" class="header-anchor">#</a> Executing a Secret Contract</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx compute execute <span class="token variable">$CONTRACT_ADDRESS</span> <span class="token string">&quot;<span class="token variable">$EXEC_INPUT_MSG</span>&quot;</span>
</code></pre></div><p>Or:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx compute execute --label <span class="token string">&quot;<span class="token variable">$UNIQUE_LABEL</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$EXEC_INPUT_MSG</span>&quot;</span>
</code></pre></div><h4 id="reading-the-output-of-a-secret-contract-tx"><a href="#reading-the-output-of-a-secret-contract-tx" class="header-anchor">#</a> Reading the output of a Secret Contract tx</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q compute tx <span class="token punctuation">[</span>hash<span class="token punctuation">]</span>
</code></pre></div><h4 id="querying-a-secret-contract"><a href="#querying-a-secret-contract" class="header-anchor">#</a> Querying a Secret Contract</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q compute query <span class="token variable">$CONTRACT_ADDRESS</span> <span class="token string">&quot;<span class="token variable">$QUERY_INPUT_MSG</span>&quot;</span>
</code></pre></div><h3 id="slashing"><a href="#slashing" class="header-anchor">#</a> Slashing</h3> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>You can find Slashing related CLI commands under
<a href="/validators-and-full-nodes/join-validator-mainnet.html#Slashing">Validators/Slashing</a>.</p></div> <h3 id="minting"><a href="#minting" class="header-anchor">#</a> Minting</h3> <p>You can query for the minting/inflation parameters via:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q mint params
</code></pre></div><p>To query for the current inflation value:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q mint inflation
</code></pre></div><p>To query for the current annual provisions value:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q mint annual-provisions
</code></pre></div><h3 id="staking"><a href="#staking" class="header-anchor">#</a> Staking</h3> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>You can find CLI commands related to delegating under
<a href="/validators-and-full-nodes/delegating-mainnet.html">Delegate</a>.</p></div> <h3 id="nodes"><a href="#nodes" class="header-anchor">#</a> Nodes</h3> <p>If you are running a full node or a validator node, view the status by typing:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli status
</code></pre></div><p><a href="/validators-and-full-nodes/run-full-node-mainnet.html">How to run a full node on mainnet</a>.</p> <h3 id="governance"><a href="#governance" class="header-anchor">#</a> Governance</h3> <p>Governance is the process from which users in the Secret Network can come to consensus
on software upgrades, parameters of the mainnet or signaling mechanisms through
text proposals. This is done through voting on proposals, which will be submitted
by <code>SCRT</code> holders on the mainnet.</p> <p><a href="/protocol/governance.html">How to participate in on-chain governance</a>.</p> <h3 id="fee-distribution"><a href="#fee-distribution" class="header-anchor">#</a> Fee Distribution</h3> <h4 id="query-distribution-parameters"><a href="#query-distribution-parameters" class="header-anchor">#</a> Query Distribution Parameters</h4> <p>To check the current distribution parameters, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q distribution params
</code></pre></div><h4 id="query-distribution-community-pool"><a href="#query-distribution-community-pool" class="header-anchor">#</a> Query distribution Community Pool</h4> <p>To query all coins in the community pool which is under Governance control:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q distribution community-pool
</code></pre></div><h4 id="query-outstanding-validator-rewards"><a href="#query-outstanding-validator-rewards" class="header-anchor">#</a> Query Outstanding Validator rewards</h4> <p>To check the current outstanding (un-withdrawn) rewards, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q distribution validator-outstanding-rewards <span class="token operator">&lt;</span>validator-address<span class="token operator">&gt;</span>
</code></pre></div><h4 id="query-validator-commission"><a href="#query-validator-commission" class="header-anchor">#</a> Query Validator Commission</h4> <p>To check the current outstanding commission for a validator, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q distribution commission <span class="token operator">&lt;</span>validator-operator-address<span class="token operator">&gt;</span>
</code></pre></div><h4 id="query-validator-slashes"><a href="#query-validator-slashes" class="header-anchor">#</a> Query Validator Slashes</h4> <p>To check historical slashes for a validator, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q distribution slashes <span class="token operator">&lt;</span>validator-operator-address<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>start-height<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>end-height<span class="token operator">&gt;</span>
</code></pre></div><h4 id="query-delegator-rewards"><a href="#query-delegator-rewards" class="header-anchor">#</a> Query Delegator Rewards</h4> <p>To check current rewards for a delegation (were they to be withdrawn), run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q distribution rewards <span class="token operator">&lt;</span>delegator-address<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>validator-address<span class="token operator">&gt;</span>
</code></pre></div><h4 id="query-all-delegator-rewards"><a href="#query-all-delegator-rewards" class="header-anchor">#</a> Query All Delegator Rewards</h4> <p>To check all current rewards for a delegation (were they to be withdrawn), run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli q distribution rewards <span class="token operator">&lt;</span>delegator-address<span class="token operator">&gt;</span>
</code></pre></div><h3 id="multisig-transactions"><a href="#multisig-transactions" class="header-anchor">#</a> Multisig Transactions</h3> <p>Multisig transactions require signatures of multiple private keys. Thus, generating and signing a transaction from a multisig account involve cooperation among the parties involved. A multisig transaction can be initiated by any of the key holders, and at least one of them would need to import other parties' public keys into their Keybase and generate a multisig public key in order to finalize and broadcast the transaction.</p> <p>For example, given a multisig key comprising the keys <code>p1</code>, <code>p2</code>, and <code>p3</code>, each of which is held by a distinct party, the user holding <code>p1</code> would require to import both <code>p2</code> and <code>p3</code> in order to generate the multisig account public key:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys <span class="token function">add</span> <span class="token punctuation">\</span>
  p2 <span class="token punctuation">\</span>
  --pubkey<span class="token operator">=</span>secretpub1addwnpepqtd28uwa0yxtwal5223qqr5aqf5y57tc7kk7z8qd4zplrdlk5ez5kdnlrj4

secretcli keys <span class="token function">add</span> <span class="token punctuation">\</span>
  p3 <span class="token punctuation">\</span>
  --pubkey<span class="token operator">=</span>secretpub1addwnpepqgj04jpm9wrdml5qnss9kjxkmxzywuklnkj0g3a3f8l5wx9z4ennz84ym5t

secretcli keys <span class="token function">add</span> <span class="token punctuation">\</span>
  p1p2p3 <span class="token punctuation">\</span>
  --multisig-threshold<span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
  --multisig<span class="token operator">=</span>p1,p2,p3
</code></pre></div><p>A new multisig public key <code>p1p2p3</code> has been stored, and its address will be
used as signer of multisig transactions:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys show p1p2p3 -a
</code></pre></div><p>You may also view multisig threshold, pubkey constituents and respective weights
by viewing the JSON output of the key or passing the <code>--show-multisig</code> flag:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli keys show p1p2p3 -o json

secretcli keys show p1p2p3 --show-multisig
</code></pre></div><p>The first step to create a multisig transaction is to initiate it on behalf
of the multisig address created above:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx send secret1570v2fq3twt0f0x02vhxpuzc9jc4yl30q2qned 1000000uscrt <span class="token punctuation">\</span>
  --from<span class="token operator">=</span><span class="token operator">&lt;</span>multisig-address<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --generate-only <span class="token operator">&gt;</span> unsignedTx.json
</code></pre></div><p>The file <code>unsignedTx.json</code> contains the unsigned transaction encoded in JSON.
<code>p1</code> can now sign the transaction with its own private key:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx sign <span class="token punctuation">\</span>
  unsignedTx.json <span class="token punctuation">\</span>
  --multisig<span class="token operator">=</span><span class="token operator">&lt;</span>multisig-address<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --from<span class="token operator">=</span>p1 <span class="token punctuation">\</span>
  --output-document<span class="token operator">=</span>p1signature.json
</code></pre></div><p>Once the signature is generated, <code>p1</code> transmits both <code>unsignedTx.json</code> and
<code>p1signature.json</code> to <code>p2</code> or <code>p3</code>, which in turn will generate their
respective signature:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx sign <span class="token punctuation">\</span>
  unsignedTx.json <span class="token punctuation">\</span>
  --multisig<span class="token operator">=</span><span class="token operator">&lt;</span>multisig-address<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --from<span class="token operator">=</span>p2 <span class="token punctuation">\</span>
  --output-document<span class="token operator">=</span>p2signature.json
</code></pre></div><p><code>p1p2p3</code> is a 2-of-3 multisig key, therefore one additional signature
is sufficient. Any the key holders can now generate the multisig
transaction by combining the required signature files:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx multisign <span class="token punctuation">\</span>
  unsignedTx.json <span class="token punctuation">\</span>
  p1p2p3 <span class="token punctuation">\</span>
  p1signature.json p2signature.json <span class="token operator">&gt;</span> signedTx.json
</code></pre></div><p>The transaction can now be sent to the node:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretcli tx broadcast signedTx.json
</code></pre></div><h2 id="shells-completion-scripts"><a href="#shells-completion-scripts" class="header-anchor">#</a> Shells Completion Scripts</h2> <p>Completion scripts for popular UNIX shell interpreters such as <code>Bash</code> and <code>Zsh</code>
can be generated through the <code>completion</code> command, which is available for both
<code>secretd</code> and <code>secretcli</code>.</p> <p>If you want to generate <code>Bash</code> completion scripts run the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretd completion <span class="token operator">&gt;</span> secretd_completion
secretcli completion <span class="token operator">&gt;</span> secretcli_completion
</code></pre></div><p>If you want to generate <code>Zsh</code> completion scripts run the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>secretd completion --zsh <span class="token operator">&gt;</span> secretd_completion
secretcli completion --zsh <span class="token operator">&gt;</span> secretcli_completion
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <p>On most UNIX systems, such scripts may be loaded in <code>.bashrc</code> or
<code>.bash_profile</code> to enable Bash autocompletion:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'. secretd_completion'</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">echo</span> <span class="token string">'. secretcli_completion'</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
</code></pre></div><p>Refer to the user's manual of your interpreter provided by your
operating system for information on how to enable shell autocompletion.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.368a618c.js" defer></script><script src="/assets/js/2.9865b56c.js" defer></script><script src="/assets/js/85.1b7789c6.js" defer></script>
  </body>
</html>
