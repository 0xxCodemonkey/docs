(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{371:function(e,t,a){"use strict";a.r(t);var s=a(42),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"how-to-backup-and-restore-everything"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-backup-and-restore-everything"}},[e._v("#")]),e._v(" How to backup and restore everything")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#how-to-backup-and-restore-everything"}},[e._v("How to backup and restore everything")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#wallet"}},[e._v("Wallet")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#mnemonics"}},[e._v("Mnemonics")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#export"}},[e._v("Export")])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#client-transaction-encryption-key-for-secret-contracs"}},[e._v("Client Transaction Encryption Key for Secret Contracs")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#validator-private-key"}},[e._v("Validator Private Key")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#full-node-private-key"}},[e._v("Full Node Private key")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#full-node-data"}},[e._v("Full Node Data")])])]),e._v(" "),a("h1",{attrs:{id:"wallet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wallet"}},[e._v("#")]),e._v(" Wallet")]),e._v(" "),a("h2",{attrs:{id:"mnemonics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mnemonics"}},[e._v("#")]),e._v(" Mnemonics")]),e._v(" "),a("p",[e._v("When you create a new key, you'll receive the mnemonic phrase that can be used to restore that key. Backup the mnemonic phrase:")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$ secretcli keys add mykey\n{\n  "name": "mykey",\n  "type": "local",\n  "address": "secret1zjqdn0j7fzsx5ldv0lf3ejfjkey0ce8e7vglnm",\n  "pubkey": "secretpub1addwnpepqtu8pwkdft3cz65u0m84vh6k5kqmqf73lzs7we5dkx296mqlx7z6524jcxf",\n  "mnemonic": "banner genuine height east ghost oak toward reflect asset marble else explain foster car nest make van divide twice culture announce shuffle net peanut"\n}\n')])])]),a("p",[e._v("To restore the key:")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$ secretcli keys add mykey-restored --recover\n> Enter your bip39 mnemonic\nbanner genuine height east ghost oak toward reflect asset marble else explain foster car nest make van divide twice culture announce shuffle net peanut\n{\n  "name": "mykey-restored",\n  "type": "local",\n  "address": "secret1zjqdn0j7fzsx5ldv0lf3ejfjkey0ce8e7vglnm",\n  "pubkey": "secretpub1addwnpepqtu8pwkdft3cz65u0m84vh6k5kqmqf73lzs7we5dkx296mqlx7z6524jcxf"\n}\n\n$ secretcli keys list\n[\n  {\n    "name": "mykey-restored",\n    "type": "local",\n    "address": "secret1zjqdn0j7fzsx5ldv0lf3ejfjkey0ce8e7vglnm",\n    "pubkey": "secretpub1addwnpepqtu8pwkdft3cz65u0m84vh6k5kqmqf73lzs7we5dkx296mqlx7z6524jcxf"\n  },\n  {\n    "name": "mykey",\n    "type": "local",\n    "address": "secret1zjqdn0j7fzsx5ldv0lf3ejfjkey0ce8e7vglnm",\n    "pubkey": "secretpub1addwnpepqtu8pwkdft3cz65u0m84vh6k5kqmqf73lzs7we5dkx296mqlx7z6524jcxf"\n  }\n]\n')])])]),a("p",[e._v("Note: If the mnemonics were generated using a "),a("code",[e._v("secretci")]),e._v(" version of "),a("code",[e._v("v0.0.x")]),e._v(" or "),a("code",[e._v("v0.2.x")]),e._v(", you'll need to use this command: "),a("code",[e._v("secretcli keys add mykey-restored --recover --hd-path \"44'/118'/0'/0/0\"")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export"}},[e._v("#")]),e._v(" Export")]),e._v(" "),a("p",[e._v("To backup a local key without the mnemonic phrase, backup the output of "),a("code",[e._v("secretcli keys export")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$ secretcli keys export mykey\nEnter passphrase to decrypt your key:\nEnter passphrase to encrypt the exported key:\n-----BEGIN TENDERMINT PRIVATE KEY-----\nkdf: bcrypt\nsalt: 14559BB13D881A86E0F4D3872B8B2C82\ntype: secp256k1\n\n3OkvaNgdxSfThr4VoEJMsa/znHmJYm0sDKyyZ+6WMfdzovDD2BVLUXToutY/6iw0\nAOOu4v0/1+M6wXs3WUwkKDElHD4MOzSPrM3YYWc=\n=JpKI\n-----END TENDERMINT PRIVATE KEY-----\n\n$ echo "\\\n-----BEGIN TENDERMINT PRIVATE KEY-----\nkdf: bcrypt\nsalt: 14559BB13D881A86E0F4D3872B8B2C82\ntype: secp256k1\n\n3OkvaNgdxSfThr4VoEJMsa/znHmJYm0sDKyyZ+6WMfdzovDD2BVLUXToutY/6iw0\nAOOu4v0/1+M6wXs3WUwkKDElHD4MOzSPrM3YYWc=\n=JpKI\n-----END TENDERMINT PRIVATE KEY-----" > mykey.export\n')])])]),a("p",[e._v("To restore the key:")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$ secretcli keys import mykey-imported ./mykey.export\nEnter passphrase to decrypt your key:\n\n$ secretcli keys list\n[\n  {\n    "name": "mykey-imported",\n    "type": "local",\n    "address": "secret1zjqdn0j7fzsx5ldv0lf3ejfjkey0ce8e7vglnm",\n    "pubkey": "secretpub1addwnpepqtu8pwkdft3cz65u0m84vh6k5kqmqf73lzs7we5dkx296mqlx7z6524jcxf"\n  },\n  {\n    "name": "mykey-restored",\n    "type": "local",\n    "address": "secret1zjqdn0j7fzsx5ldv0lf3ejfjkey0ce8e7vglnm",\n    "pubkey": "secretpub1addwnpepqtu8pwkdft3cz65u0m84vh6k5kqmqf73lzs7we5dkx296mqlx7z6524jcxf"\n  },\n  {\n    "name": "mykey",\n    "type": "local",\n    "address": "secret1zjqdn0j7fzsx5ldv0lf3ejfjkey0ce8e7vglnm",\n    "pubkey": "secretpub1addwnpepqtu8pwkdft3cz65u0m84vh6k5kqmqf73lzs7we5dkx296mqlx7z6524jcxf"\n  }\n]\n')])])]),a("h1",{attrs:{id:"client-transaction-encryption-key-for-secret-contracs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#client-transaction-encryption-key-for-secret-contracs"}},[e._v("#")]),e._v(" Client Transaction Encryption Key for Secret Contracs")]),e._v(" "),a("ol",[a("li",[e._v("Backup "),a("code",[e._v("~/.secretcli/id_tx_io.json")]),e._v(".")])]),e._v(" "),a("p",[e._v("This key encrypts you inputs and decrypts the outputs to/of Secret Contracts.")]),e._v(" "),a("h1",{attrs:{id:"validator-private-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validator-private-key"}},[e._v("#")]),e._v(" Validator Private Key")]),e._v(" "),a("ol",[a("li",[e._v("Backup "),a("code",[e._v("~/.secretd/config/priv_validator_key.json")]),e._v(".")]),e._v(" "),a("li",[e._v("Backup the self-delegator wallet. See the "),a("a",{attrs:{href:"#wallet"}},[e._v("wallet section")]),e._v(".")])]),e._v(" "),a("p",[e._v("Also see "),a("RouterLink",{attrs:{to:"/validators-and-full-nodes/backup-a-validator.html"}},[e._v("Backup a Validator")]),e._v(" and "),a("RouterLink",{attrs:{to:"/validators-and-full-nodes/migrate-a-validator.html"}},[e._v("Migrate a Validator")]),e._v(".")],1),e._v(" "),a("h1",{attrs:{id:"full-node-private-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#full-node-private-key"}},[e._v("#")]),e._v(" Full Node Private key")]),e._v(" "),a("ol",[a("li",[e._v("Backup "),a("code",[e._v("~/.secretd/config/node_key.json")]),e._v(".")])]),e._v(" "),a("p",[e._v("Why you might want to backup your node ID:")]),e._v(" "),a("ul",[a("li",[e._v("In case you are a seed node.")]),e._v(" "),a("li",[e._v("In case you are a persistent peer for other full nodes.")]),e._v(" "),a("li",[e._v("In case you manage a setup of senty nodes and use node IDs in your config files.")])]),e._v(" "),a("h1",{attrs:{id:"full-node-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#full-node-data"}},[e._v("#")]),e._v(" Full Node Data")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Gracefully shut down the node:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl stop secret-node\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Backup the "),a("code",[e._v("~/.secretd/data/")]),e._v(" directory except for the "),a("code",[e._v("~/.secretd/data/priv_validator_state.json")]),e._v(" file.")])]),e._v(" "),a("li",[a("p",[e._v("Backup the "),a("code",[e._v("~/.secretd/.compute/")]),e._v(" directory.")])]),e._v(" "),a("li",[a("p",[e._v("Restart the node:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl start secret-node\n")])])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);