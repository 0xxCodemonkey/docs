<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>⚠️ This is an old testnet guide and will not work on current mainnet and testnets ⚠️</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.1fbdf1a8.css" as="style"><link rel="preload" href="/assets/js/app.368a618c.js" as="script"><link rel="preload" href="/assets/js/2.9865b56c.js" as="script"><link rel="preload" href="/assets/js/57.3b86dcef.js" as="script"><link rel="prefetch" href="/assets/js/10.3aea5455.js"><link rel="prefetch" href="/assets/js/11.2822ea64.js"><link rel="prefetch" href="/assets/js/12.65bf0c1d.js"><link rel="prefetch" href="/assets/js/13.d1066a1e.js"><link rel="prefetch" href="/assets/js/14.0b9eb2b2.js"><link rel="prefetch" href="/assets/js/15.b2efccab.js"><link rel="prefetch" href="/assets/js/16.66c9f6c5.js"><link rel="prefetch" href="/assets/js/17.fbf8928e.js"><link rel="prefetch" href="/assets/js/18.45dc0496.js"><link rel="prefetch" href="/assets/js/19.b85fb333.js"><link rel="prefetch" href="/assets/js/20.5446fbc2.js"><link rel="prefetch" href="/assets/js/21.2c41cf8d.js"><link rel="prefetch" href="/assets/js/22.c981324b.js"><link rel="prefetch" href="/assets/js/23.831e29c2.js"><link rel="prefetch" href="/assets/js/24.025efe88.js"><link rel="prefetch" href="/assets/js/25.dad4cc47.js"><link rel="prefetch" href="/assets/js/26.4113f459.js"><link rel="prefetch" href="/assets/js/27.e9ef666f.js"><link rel="prefetch" href="/assets/js/28.8d35786b.js"><link rel="prefetch" href="/assets/js/29.ed008a30.js"><link rel="prefetch" href="/assets/js/3.6e48e99b.js"><link rel="prefetch" href="/assets/js/30.3d5f6431.js"><link rel="prefetch" href="/assets/js/31.d37d7059.js"><link rel="prefetch" href="/assets/js/32.26db99ea.js"><link rel="prefetch" href="/assets/js/33.6f451fda.js"><link rel="prefetch" href="/assets/js/34.c61840b6.js"><link rel="prefetch" href="/assets/js/35.0b0b2a65.js"><link rel="prefetch" href="/assets/js/36.3e33e871.js"><link rel="prefetch" href="/assets/js/37.68ff07f2.js"><link rel="prefetch" href="/assets/js/38.f5fd2d60.js"><link rel="prefetch" href="/assets/js/39.2aa4c5de.js"><link rel="prefetch" href="/assets/js/4.8825709b.js"><link rel="prefetch" href="/assets/js/40.735d1201.js"><link rel="prefetch" href="/assets/js/41.316ad2f5.js"><link rel="prefetch" href="/assets/js/42.97ba8168.js"><link rel="prefetch" href="/assets/js/43.cf3d0784.js"><link rel="prefetch" href="/assets/js/44.982887eb.js"><link rel="prefetch" href="/assets/js/45.2585af80.js"><link rel="prefetch" href="/assets/js/46.dd0f01fe.js"><link rel="prefetch" href="/assets/js/47.ce523662.js"><link rel="prefetch" href="/assets/js/48.03991a46.js"><link rel="prefetch" href="/assets/js/49.e717e995.js"><link rel="prefetch" href="/assets/js/5.c2232815.js"><link rel="prefetch" href="/assets/js/50.392a7165.js"><link rel="prefetch" href="/assets/js/51.db64bb96.js"><link rel="prefetch" href="/assets/js/52.1280a756.js"><link rel="prefetch" href="/assets/js/53.735f471f.js"><link rel="prefetch" href="/assets/js/54.69d97fc6.js"><link rel="prefetch" href="/assets/js/55.a1c18e81.js"><link rel="prefetch" href="/assets/js/56.a8deed1a.js"><link rel="prefetch" href="/assets/js/58.2913b075.js"><link rel="prefetch" href="/assets/js/59.6ce31797.js"><link rel="prefetch" href="/assets/js/6.40f24f85.js"><link rel="prefetch" href="/assets/js/60.bd430ea0.js"><link rel="prefetch" href="/assets/js/61.b55b53cd.js"><link rel="prefetch" href="/assets/js/62.77ffd21b.js"><link rel="prefetch" href="/assets/js/63.fa587683.js"><link rel="prefetch" href="/assets/js/64.366b7771.js"><link rel="prefetch" href="/assets/js/65.e5dd6793.js"><link rel="prefetch" href="/assets/js/66.5c5e7f92.js"><link rel="prefetch" href="/assets/js/67.3bdba1ce.js"><link rel="prefetch" href="/assets/js/68.298d1f3e.js"><link rel="prefetch" href="/assets/js/69.08559541.js"><link rel="prefetch" href="/assets/js/7.49199302.js"><link rel="prefetch" href="/assets/js/70.2603c4a4.js"><link rel="prefetch" href="/assets/js/71.dd6a8160.js"><link rel="prefetch" href="/assets/js/72.0d97b9ee.js"><link rel="prefetch" href="/assets/js/73.aefdd0e9.js"><link rel="prefetch" href="/assets/js/74.73ff8ff9.js"><link rel="prefetch" href="/assets/js/75.04c062f4.js"><link rel="prefetch" href="/assets/js/76.e94b0ecc.js"><link rel="prefetch" href="/assets/js/77.ed7afbb7.js"><link rel="prefetch" href="/assets/js/78.9fe2b885.js"><link rel="prefetch" href="/assets/js/79.9ceb8bfc.js"><link rel="prefetch" href="/assets/js/8.a8efa35d.js"><link rel="prefetch" href="/assets/js/80.defd37e0.js"><link rel="prefetch" href="/assets/js/81.ffce598d.js"><link rel="prefetch" href="/assets/js/82.29d8cab7.js"><link rel="prefetch" href="/assets/js/83.f1632309.js"><link rel="prefetch" href="/assets/js/84.8a5a3473.js"><link rel="prefetch" href="/assets/js/85.1b7789c6.js"><link rel="prefetch" href="/assets/js/86.a93b488d.js"><link rel="prefetch" href="/assets/js/87.4550bce0.js"><link rel="prefetch" href="/assets/js/88.3bab9ce8.js"><link rel="prefetch" href="/assets/js/89.3a7e9f0a.js"><link rel="prefetch" href="/assets/js/9.34ad9346.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1fbdf1a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="this-is-an-old-testnet-guide-and-will-not-work-on-current-mainnet-and-testnets"><a href="#this-is-an-old-testnet-guide-and-will-not-work-on-current-mainnet-and-testnets" class="header-anchor">#</a> ⚠️ This is an old testnet guide and will not work on current mainnet and testnets ⚠️</h1> <h3 id="general"><a href="#general" class="header-anchor">#</a> General</h3> <p>The general steps we perform to create a Secret Contract are:</p> <ol><li>Upload Code - Upload some optimized wasm code, no state nor contract address (example Standard ERC20 contract)</li> <li>Instantiate Contract - Instantiate a code reference with some initial state, creates new address (example set token name, max issuance, etc for my ERC20 token)</li> <li>Execute Contract - This may support many different calls, but they are all unprivileged usage of a previously instantiated contract, depends on the contract design (example: Send ERC20 token, grant approval to other contract)</li></ol> <p>In this guide we will focus on steps 1 and 2.</p> <p>You can read more about the process, and other comparisons to Solidity, in the <a href="https://www.cosmwasm.com/docs/getting-started/smart-contracts" target="_blank" rel="noopener noreferrer">cosmwasm documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="_1-download-the-prebuilt-contract"><a href="#_1-download-the-prebuilt-contract" class="header-anchor">#</a> 1. Download the prebuilt contract</h3> <p><code>https://github.com/enigmampc/SecretNetwork/releases/download/v0.8.1/contract.wasm.gz</code></p> <p>This contract is a copy of the contract used to create the SSCRT privacy coin, so now you'll be creating your own privacy coin!</p> <p>Download this contract somewhere it can be accessed using <code>secretcli</code></p> <h3 id="_2-upload-the-optimized-contract-wasm"><a href="#_2-upload-the-optimized-contract-wasm" class="header-anchor">#</a> 2. Upload the optimized contract.wasm:</h3> <div class="language- extra-class"><pre class="language-text"><code>secretcli tx compute store contract.wasm.gz --from &lt;wallet_name&gt; --gas auto -y
</code></pre></div><p>This command will store your contract code on-chain, which can then be used to initialize a new contract instance</p> <h4 id="check-that-your-code-was-uploaded-properly"><a href="#check-that-your-code-was-uploaded-properly" class="header-anchor">#</a> Check that your code was uploaded properly</h4> <p>List current smart contract code</p> <div class="language- extra-class"><pre class="language-text"><code>secretcli query compute list-code
[
  ...,
  {
    &quot;id&quot;: 12,
    &quot;creator&quot;: &quot;secret1klqgym9m7pcvhvgsl8mf0elshyw0qhruy4aqxx&quot;,
    &quot;data_hash&quot;: &quot;655CD32C174731A5A06A75F5FCC9B4E76D1556C208454FCB9E0062BA10C98409&quot;,
    &quot;source&quot;: &quot;&quot;,
    &quot;builder&quot;: &quot;&quot;
  }
  ....
]
</code></pre></div><p>You should see the <code>data_hash</code> of <code>655CD32C174731A5A06A75F5FCC9B4E76D1556C208454FCB9E0062BA10C98409</code> with your address as the <code>creator</code></p> <p>Remember the &quot;id&quot; of the code. We will be using it in the next step.</p> <h3 id="_3-instantiate-the-smart-contract"><a href="#_3-instantiate-the-smart-contract" class="header-anchor">#</a> 3. Instantiate the Smart Contract</h3> <p>At this point the code been uploaded and stored on the testnet, but it has not been initialized yet. This is how we can allow the deployment of multiple contract instances from the same code. For example, if you wanted to create multiple different &quot;ERC-20&quot; coins from the same base contract. You can read more about the logic behind this decision, and other comparisons to Solidity, in the <a href="https://www.cosmwasm.com/docs/getting-started/smart-contracts" target="_blank" rel="noopener noreferrer">cosmwasm documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>To create a new contract instance we must provide some initialization data, encoded as JSON. Remember we're creating a new privacy coin, so we will have a number of different parameters to tune.</p> <p>These parameters are:</p> <ul><li><code>name</code> - string - name of the coin</li> <li><code>symbol</code> - string - short form of the coin (e.g. SCRT/BTC/ETH/etc.)</li> <li><code>decimals</code> - integer - number of decimals this coin supports (e.g. SCRT supports 6, ETH supports 18)</li> <li><code>initial_balances</code> - the initial distribution of coins. A list of values in the form <code>[{&quot;address&quot;: &quot;&lt;address&gt;&quot;, &quot;amount&quot;: &quot;&lt;num_of_coins&gt;&quot;}, {&quot;address&quot;: &quot;&lt;address2&gt;&quot;...]</code>. This can also be an empty array (<code>[]</code>) if you do not wish to allocate any tokens</li></ul> <p>Example parameters:</p> <p><code>{&quot;name&quot;: &quot;Example Coin&quot;, &quot;symbol&quot;: &quot;EXC&quot;, &quot;decimals&quot;: 6, &quot;initial_balances&quot;: [{&quot;address&quot;: &quot;secret13flczxqyzvqrvv0npvap6qfg66zan4fy83la63&quot;, &quot;amount&quot;: &quot;1000&quot;}]}</code></p> <p>Now, to initialize the contract we will use the following command (replace the parameters with values of your choosing):</p> <div class="language- extra-class"><pre class="language-text"><code>secretcli tx compute instantiate &lt;code_id&gt; --label &lt;choose-an-alias&gt; '{&quot;name&quot;: &quot;&lt;coin_name&gt;&quot;, &quot;symbol&quot;: &quot;&lt;coin_symbol&gt;&quot;, &quot;decimals&quot;: &lt;num_of_decimals&gt;, &quot;initial_balances&quot;: []}' --from &lt;key-alias&gt;
</code></pre></div><p>Be careful not to forget the quotes at the begining and end of the initialization parameters!</p> <h4 id="find-the-contract-address"><a href="#find-the-contract-address" class="header-anchor">#</a> Find the contract address</h4> <p>The contract is now initialized, congratulations! Our final step is to find the newly deployed contract address. We can do this in a number of ways:</p> <ul><li><p>Check the explorer. If successful, your contract address should be displayed in the transactions tab</p></li> <li><p>Query the deployed instances by code id - <code>secretcli query compute list-contract-by-code &lt;code_id&gt;</code></p></li> <li><p>Query the transaction you just sent using <code>secretcli q tx &lt;TX_HASH&gt;</code> and look for the attribute <code>contract_address</code></p></li></ul> <p>Congratulations, you're done deploying your first contract!</p> <p>The contract code is based on the code that can be found <a href="https://github.com/enigmampc/secret-secret" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> if you want to learn more, or interact with your new privacy coin.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.368a618c.js" defer></script><script src="/assets/js/2.9865b56c.js" defer></script><script src="/assets/js/57.3b86dcef.js" defer></script>
  </body>
</html>
